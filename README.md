Плеханов Денис ИТ-6

Реализуйте структуру данных "стек". Напишите программу, содержащую описание стека и моделирующую работу стека, реализовав все указанные здесь методы. Программа считывает последовательность команд и в зависимости от команды выполняет ту или иную операцию. После выполнения каждой команды программа должна вывести одну строчку. Возможные команды для программы: push n - Добавить в стек число n (значение n задается после команды). Программа должна вывести ok. pop - Удалить из стека последний элемент. Программа должна вывести его значение. back - Программа должна вывести значение последнего элемента, не удаляя его из стека. size - Программа должна вывести количество элементов в стеке. clear - Программа должна очистить стек и вывести ok. exit - Программа должна вывести bye и завершить работу. Входные данные: команды управления стеком вводятся в описанном ранее формате по 1 на строке. Гарантируется, что набор входных команд удовлетворяет следующим требованиям: максимальное количество элементов в стеке в любой момент не превосходит100, все команды pop и back корректны, то есть при их исполнении в стеке содержится хотя бы один элемент. Выходные данные: протокол работы со стеком, по 1 сообщению в строке.

Описание проекта "Реализация структуры данных 'стек'"

Общее описание

Этот проект представляет собой реализацию структуры данных "стек" с интерфейсом командной строки. Стек - это абстрактный тип данных, работающий по принципу "последним пришел - первым вышел". Программа позволяет пользователю выполнять основные операции со стеком: добавление и удаление элементов, просмотр верхнего элемента, получение размера стека и его очистку.

Функциональные компоненты

Класс Stack

Основной класс, реализующий функциональность стека:

1.Инициализация (__init__):

-Создает пустой список для хранения элементов

-Устанавливает максимальный размер стека в 100 элементов

2.Метод push(value):

-Добавляет элемент в вершину стека

-Проверяет, не превышен ли максимальный размер

-Возвращает "ok" при успешном добавлении или сообщение об ошибке при переполнении

3.Метод pop():

-Удаляет и возвращает верхний элемент стека

-Проверяет, не пуст ли стек

-Возвращает значение элемента или сообщение об ошибке

4.Метод back():

-Возвращает верхний элемент без его удаления

-Проверяет, не пуст ли стек

-Возвращает значение элемента или сообщение об ошибке

5.Метод size():

-Возвращает текущее количество элементов в стеке в виде строки

6.Метод clear():

-Очищает стек, удаляя все элементы

-Возвращает "ok" после очистки


 Вспомогательные функции

1.display_menu():

-Выводит в консоль меню доступных команд с их номерами

-Описывает каждую команду и ее назначение

2.main():

-Основная функция программы

-Создает экземпляр стека

-Обрабатывает пользовательский ввод

-Вызывает соответствующие методы стека в зависимости от выбранной команды

-Обрабатывает исключения и неверный ввод

Логика работы программы

1.При запуске программа выводит приветственное сообщение и меню команд.

2.Пользователь вводит номер команды (0-6).

3.В зависимости от выбранной команды:

-Для push (1) запрашивается число для добавления

-Для других команд сразу выполняются соответствующие действия

4.После выполнения каждой команды выводится результат операции.

5.Цикл продолжается до ввода команды exit (0).

Обработка ошибок

Программа обрабатывает следующие ситуации:

-Ввод нечислового значения для команды push

-Попытка удалить или просмотреть элемент из пустого стека (хотя по условию задачи это гарантированно не произойдет)

-Ввод несуществующей команды

-Прерывание программы с клавиатуры (Ctrl+C)


Требования к вводу/выводу

Входные данные:

-Команды вводятся по одной в строке

-Для команды push после номера команды запрашивается целое число

-Максимальное количество элементов в стеке - 100

-Команды pop и back всегда корректны (стек не пуст)

Выходные данные:

-Для каждой команды выводится одна строка результата:

--push: "ok"

--pop: значение удаленного элемента

--back: значение верхнего элемента

--size: текущий размер стека

--clear: "ok"

--exit: "bye"


Детальное описание проекта "Реализация структуры данных 'стек'"

1.1. Архитектура проекта

Проект состоит из одного основного класса Stack и двух вспомогательных функций, организованных в виде консольного приложения:

        Stack Application
        ├── Stack Class (Core functionality)

        │   ├── __init__ (инициализация стека)

        │   ├── push (добавление элемента)

        │   ├── pop (извлечение элемента)

        │   ├── back (просмотр верхнего элемента)

        │   ├── size (получение размера)

        │   └── clear (очистка стека)

        ├── display_menu (функция отображения меню)

        └── main (основная логика программы)

2. Детальное описание класса Stack

   2.1. Инициализация (__init__)
   
           def __init__(self):
   
            self.__items = []         # Приватный список для хранения элементов стека
   
            self.__max_size = 100     # Максимальная емкость стека (по условию задачи)

   2.2. Метод push(value)

           def push(self, value):
   
            if len(self.__items) >= self.__max_size:
   
                return "error: stack overflow"
   
            self.__items.append(value)
   
            return "ok"

   -Логика работы:
   
   Проверяет, не достигнут ли максимальный размер стека
   
   Если стек полон - возвращает сообщение об ошибке
   
   Если есть место - добавляет элемент в конец списка (вершина стека)
   
   Возвращает "ok" при успешном добавлении
   
   2.3. Метод pop()
   
           def pop(self):
   
            if not self.__items:
   
                return "error: stack is empty"
   
            return str(self.__items.pop())
   
   -Логика работы:
   
   Проверяет, не пуст ли стек
   
   Если пуст - возвращает сообщение об ошибке

   Если не пуст - удаляет и возвращает последний элемент

   Возвращаемое значение преобразуется в строку

   2.4. Метод back()

           def back(self):
   
            if not self.__items:
   
                return "error: stack is empty"
   
            return str(self.__items[-1])

   -Логика работы:

   Проверяет, не пуст ли стек

   Возвращает последний элемент без его удаления

   Возвращаемое значение преобразуется в строку

   2.5. Метод size()
   
           def size(self):
   
            return str(len(self.__items))

   -Логика работы:

   Вычисляет текущую длину списка элементов

   Возвращает результат как строку

   2.6. Метод clear()
   
           def clear(self):
   
            self.__items = []
   
            return "ok"

   -Логика работы:

   Заменяет текущий список элементов новым пустым списком

   Возвращает "ok" для подтверждения

4. Детальное описание функций интерфейса
   
   3.1. Функция display_menu()

           def display_menu():
   
            print("\nМеню команд:")
   
            print("1. Добавить число в стек (push)")
   
            print("2. Удалить и получить верхний элемент (pop)")
   
            print("3. Посмотреть верхний элемент (back)")
   
            print("4. Узнать размер стека (size)")
   
            print("5. Очистить стек (clear)")
   
            print("6. Показать это меню (help)")
   
            print("0. Выйти из программы (exit)")
   
            print("\nВведите цифру команды:")

   -Назначение:

   Предоставляет пользователю информацию о доступных командах

   Форматированный вывод для удобства чтения

   Содержит номера команд и их описание

   3.2. Функция main()

   Основной цикл программы:

           while True:
   
            try:
   
                user_input = input("\n> ").strip()
   
                if not user_input:
   
                    continue
   
                ...
            except KeyboardInterrupt:
   
                print("\nПрограмма завершена")
   
                break

            except Exception:
   
                print("Произошла ошибка. Попробуйте снова")

   Обработка команд:
   
   1.Команда push (1):

           if user_input == "1":
   
            try:
   
                value = int(input("Введите число для добавления: "))
   
                print(stack.push(value))
   
            except ValueError:
   
                print("Ошибка: введите целое число")

   -Запрашивает дополнительный ввод числа
   
   -Обрабатывает нечисловой ввод
   
   -Вызывает stack.push() с преобразованным значением

   2.Команды pop (2), back (3), size (4), clear (5):
   
           elif user_input == "2":
   
            print(stack.pop())
   
        elif user_input == "3":

            print(stack.back())
        ...
   
   -Прямой вызов соответствующего метода стека
   
   -Вывод результата в консоль
   
   3.Команда help (6):

           elif user_input == "6":
   
            display_menu()
   
   -Повторный вывод меню

   4.Команда exit (0):

           elif user_input == "0":
   
            print("bye")
   
            break
   
   -Завершение программы с выводом "bye"

4. Обработка исключений и особых случаев
   
   1.KeyboardInterrupt
   
   --Обрабатывает Ctrl+C, завершая программу корректно
   
   2.ValueError:
   
   --При вводе нечислового значения для push
   
   3.Пустой ввод:
   
   --Пропускает итерацию цикла
   
   4.Неизвестная команда:
   
   --Выводит сообщение о неверной команде

5.Соответствие требованиям задачи

   1.Максимальный размер стека:
   
   --Жестко задан 100 элементами (проверка в push)
   
   2.Гарантии корректности pop/back:
   
   --Хотя методы содержат проверки, по условию они не потребуются
   
   3.Формат вывода:
   
   --Точное соответствие требуемым выходным данным для каждой команды
   
   4.Последовательность выполнения:
   
   --После каждой команды - вывод соответствующего сообщения

6. Пример полного сеанса работы

           Добро пожаловать в программу 'Стек'!

        Меню команд:
        1. Добавить число в стек (push)
        2. Удалить и получить верхний элемент (pop)
        3. Посмотреть верхний элемент (back)
        4. Узнать размер стека (size)
        5. Очистить стек (clear)
        6. Показать это меню (help)
        0. Выйти из программы (exit)

        Введите цифру команды:

        > 1
        Введите число для добавления: 10
        ok

        > 1
        Введите число для добавления: 20
        ok

        > 3
        20

        > 4
        2

        > 2
        20

        > 5
        ok

        > 4
        0

        > 0
        bye
